# Hotkeys ëª¨ë“œì™€ Character Editor ëª¨ë“œì˜ 1.3ë²„ì „ í˜¸í™˜ì„± ë¶„ì„
---
## 1. ì„œë¡ 
Hotkeys ëª¨ë“œì™€ Character Editor ëª¨ë“œëŠ” ê°ê° ë§ì€ êµ¬ë…ì ìˆ˜ë¥¼ í™•ë³´í•˜ê³  ìˆëŠ” ëª¨ë“œì´ë‹¤. SteamWorkshop ê¸°ì¤€ìœ¼ë¡œ Hotkeysì˜ ì˜¤ë¦¬ì§€ë„ ë²„ì „ì€ 2022-05-19 12:58ì„ ê¸°ì ìœ¼ë¡œ 6393ëª…ì˜ êµ¬ë…ìë¥¼, Character EditorëŠ” 261865ëª…ì˜ êµ¬ë…ìë¥¼ ê°€ì§€ê³  ìˆë‹¤. ë‘ ëª¨ë“œ ë‹¤ ë²„ì „ 1.3ì„ ì§€ì›í•œë‹¤.  
ê·¸ëŸ¬ë‚˜ ë‘ ëª¨ë“œ ì‚¬ì´ì—ëŠ” ì¶©ëŒì´ ì¡´ì¬í•œë‹¤. Hotkeys ëª¨ë“œì™€ Character Editorëª¨ë“œë¥¼ í™œì„±í™”ì‹œí‚¨ì±„ë¡œ ê²Œì„ì— ë“¤ì–´ê°„ ë’¤, í™˜ê²½ì„¤ì •ì—ì„œ í‚¤ ë°”ì¸ë”©ì„ í´ë¦­í•˜ê³ , Character Editorì˜ ë‹¨ì¶•í‚¤ë¥¼ ì„¤ì •í•˜ë ¤ê³  í•˜ë©´ ê³§ GUIê°€ ë§ê°€ì§€ê³  ì—ëŸ¬ë¡œê·¸ê°€ ê¸°ë¡ì°½ì— ë§¤ í‹±ë§ˆë‹¤ ëœ¬ë‹¤. ë‹¤ë¥¸ ë¶€ë¶„ë“¤ì€ ì •ìƒì ìœ¼ë¡œ í‚¤ë¥¼ í• ë‹¹í•  ìˆ˜ ìˆê³ , Hotkeys ëª¨ë“œì˜ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ì¸ ë‹¤ì¤‘ í‚¤ ë°”ì¸ë”©(Shift, Controlë“±ì˜ í‚¤ë¥¼ ì‚¬ìš©í•´ì„œ í‚¤ ë°”ì¸ë”©ì„ ì§€ì •í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥) ë˜í•œ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•œë‹¤.  
ë³¸ ê¸€ì—ì„œëŠ” ì—ëŸ¬ ë¡œê·¸ë¥¼ ë¶„ì„í•˜ì—¬ ë‘ ëª¨ë“œê°„ì˜ í˜¸í™˜ì„± ë¬¸ì œì— ëŒ€í•´ì„œ ë¶„ì„í•˜ê³ , ì´ë¥¼ í•´ê²°í•  ë°©ì•ˆì„ ì œì‹œí•œë‹¤.

## 2. ì—ëŸ¬ë¡œê·¸ ë¶„ì„
í˜¸í™˜ì„± ì¶©ëŒì´ ë°œìƒí•œ ì—ëŸ¬ë¡œê·¸ëŠ” ë‹¤ìŒ ë¬¸ì¥ì´ ë°˜ë³µëœë‹¤.  
```C#
Exception filling window for RimWorld.Dialog_KeyBindings: System.NullReferenceException: Object reference not set to an instance of an object
  at Hotkeys.Patch_KeyBindDrawing.GetLabelForKeyDef (Verse.KeyPrefsData keyPrefsData, Verse.KeyBindingDef keyDef, Verse.KeyPrefs+BindingSlot slot) [0x0002d] in <94bd49adc4f44b2b8bfbc9d4b76a8e09>:0 
  at Hotkeys.Patch_KeyBindDrawing.Prefix (Verse.KeyBindingDef keyDef, UnityEngine.Rect parentRect, System.Single& curY, System.Boolean skipDrawing, Verse.KeyPrefsData& ___keyPrefsData) [0x000ff] in <94bd49adc4f44b2b8bfbc9d4b76a8e09>:0 
  at (wrapper dynamic-method) RimWorld.Dialog_KeyBindings.RimWorld.Dialog_KeyBindings.DrawKeyEntry_Patch1(RimWorld.Dialog_KeyBindings,Verse.KeyBindingDef,UnityEngine.Rect,single&,bool)
  at (wrapper dynamic-method) RimWorld.Dialog_KeyBindings.RimWorld.Dialog_KeyBindings.DoWindowContents_Patch0(RimWorld.Dialog_KeyBindings,UnityEngine.Rect)
  at Verse.Window.InnerWindowOnGUI (System.Int32 x) [0x001d3] in <99518a644a3e4a7ea3fde566568df84a>:0 
UnityEngine.StackTraceUtility:ExtractStackTrace ()
Verse.Log:Error (string)
Verse.Window:InnerWindowOnGUI (int)
UnityEngine.GUI:CallWindowDelegate (UnityEngine.GUI/WindowFunction,int,int,UnityEngine.GUISkin,int,single,single,UnityEngine.GUIStyle)
```
ì—ëŸ¬ë¡œê·¸ëŠ” Hotkeys ëª¨ë“œê°€ í•œ HarmonyPatchì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆìŒì„ ì•Œë ¤ì£¼ê³  ìˆë‹¤. ë¬¼ë¡  ëª¨ë“œ ê°œë°œìê°€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ë¬´ì—‡ìœ¼ë¡œ ì„¤ì •í•˜ëŠ”ì§€ì— ë”°ë¼ì„œ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ì— ë‚˜íƒ€ë‚˜ëŠ” ì´ë¦„ì€ ë‹¤ë¥¼ê²ƒì´ë‹¤. ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ì˜ ê°€ì¥ ìœ— ì¤„ì¸ ```C#
Exception filling window for RimWorld.Dialog_KeyBindings: System.NullReferenceException: Object reference not set to an instance of an object
  at Hotkeys.Patch_KeyBindDrawing.GetLabelForKeyDef (Verse.KeyPrefsData keyPrefsData, Verse.KeyBindingDef keyDef, Verse.KeyPrefs+BindingSlot slot) [0x0002d] in <94bd49adc4f44b2b8bfbc9d4b76a8e09>:0 ```
  ì— ë‚˜íƒ€ë‚œ ë¬¸ì œë¥¼ í™•ì¸í•´ë³´ë©´ NullReferenceExceptionì´ ë°œìƒí–ˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.  
ì‹¤ì œ ë¬¸ì œê°€ ë°œìƒí•œ ì½”ë“œë¥¼ ì—­ì¶”ì í•´ë³´ë„ë¡ í•˜ì. ì—¬ê¸°ì„œ ì‚¬ìš©í•œ Hotkeys ëª¨ë“œëŠ” https://github.com/Reiquard/Hotkeys-1.3/tree/1.3 ì—ì„œ ê°€ì ¸ì˜¨ ì½”ë“œì´ë‹¤. í•´ë‹¹ ì½”ë“œëŠ” ê°€ì¥ ìµœì‹  Hotkeys í”½ìŠ¤ë¥¼ ë‹´ê³  ìˆëŠ”ê²ƒìœ¼ë¡œ íŒë‹¨ëœë‹¤.(Accessed on: 2022-05-19)  
ë¨¼ì € í•´ë‹¹ íŒŒì¼ì˜ ì†ŒìŠ¤ì½”ë“œë¥¼ ì–»ì–´ì•¼ í•˜ëŠ”ë°, ì´ë¥¼ ìœ„í•´ì„œëŠ” ILSpyë‚˜ dnSpyë“±ì˜ ë””ì»´íŒŒì¼ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. í•´ë‹¹ ë„êµ¬ë“¤ì„ ì‚¬ìš©í•˜ê¸° ì´ì „ì— ê´€ë ¨ëœ ì–´ì…ˆë¸”ë¦¬(ì—¬ê¸°ì„œëŠ” RimWorldì˜ Assembly-CSharp.dllì„ í¬í•¨í•œ íŒŒì¼ë“¤)ì„ ë¨¼ì € ë””ì»´íŒŒì¼ëŸ¬ì— ì…ë ¥í•´ë†“ì•„ì•¼ í•œë‹¤. ì—¬ê¸°ì„œëŠ” ILSpyë¥¼ í†µí•´ì„œ ì†ŒìŠ¤ì½”ë“œë¥¼ í™•ì¸í•˜ì˜€ë‹¤. ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” í•¨ìˆ˜ ë¶€ë¶„ì€ ì•„ë˜ì™€ ê°™ë‹¤.
```C#
private static string GetLabelForKeyDef(KeyPrefsData keyPrefsData, KeyBindingDef keyDef, KeyPrefs.BindingSlot slot)
{
	string text = keyPrefsData.GetBoundKeyCode(keyDef, slot).ToStringReadable();
	List<KeyCode> list = new List<KeyCode>();
	Hotkeys_Settings settings = Hotkeys.settings;
	if (slot == KeyPrefs.BindingSlot.A)
	{
		list.AddRange(keyDef.ModifierData().keyBindModsA);
	}
	if (slot == KeyPrefs.BindingSlot.B)
	{
		list.AddRange(keyDef.ModifierData().keyBindModsB);
	}
	foreach (KeyCode item in list)
	{
		text = item.ToStringReadable() + " + " + text;
	}
	return text;
}
```   
ìœ„ì˜ ì½”ë“œë¥¼ ì‚´í´ë³´ë©´, NullReferenceExceptionì´ ë°œìƒí•˜ëŠ” ë¶€ë¶„, ì¦‰ Nullì¸ ê°ì²´ì—ì„œ ë¬´ì–¸ê°€ë¥¼ í˜¸ì¶œí•˜ë ¤ê³  í•˜ê±°ë‚˜ ì°¸ì¡°í•˜ë ¤ê³  í•˜ëŠ” ë¶€ë¶„ì´ ê³³ê³³ì— ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ Nullì¸ì§€ë¥¼ ê²€ì‚¬í•˜ëŠ” ë¶€ë¶„ì€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ì‚¬ì‹¤, ì¼ë°˜ì ì¸ ê²½ìš°ì— ì´ëŠ” ë¶ˆí•„ìš”í•˜ë‹¤. ì™œëƒí•˜ë©´ ë¦¼ì›”ë“œì—ì„œ í‚¤ë°”ì¸ë”©ì€ KeyBindingCategoryDefìœ¼ë¡œ í‚¤ ì¹´í…Œê³ ë¦¬ë¥¼ ì„¤ì •í•˜ê³ , ì‹¤ì œ í‚¤ ë°”ì¸ë”©ì€ KeyBindingDefë¥¼ ì‘ì„±í•¨ìœ¼ë¡œì¨ ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì´ë‹¤. í•˜ì§€ë§Œ Character EditorëŠ” ë‹¤ë¥¸ ì ‘ê·¼ ë°©ë²•ì„ ì·¨í–ˆë‹¤. ì‹¤ì œë¡œ Character Editorì˜ í´ë” ë‚´ë¶€ë¥¼ ì‚´í´ë³´ë©´ KeyBindingDefê°€ ì •ì˜ëœ xmlíŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  
ì¼ë‹¨ì€ ë¬¸ì œê°€ NullReferenceExceptionì´ì—ˆê³ , ì´ ì˜¤ë¥˜ê°€ GetLabelForKeyDefì—ì„œ ë°œìƒí–ˆìœ¼ë‹ˆ NullReferenceExceptionì„ ì¡ì•„ë³¸ë‹¤. í•´ë‹¹ ì˜¤ë¥˜ëŠ” ê°„ë‹¨í•˜ê²Œ ì¡ì„ ìˆ˜ ìˆë‹¤. ì½”ë“œ ìƒì—ì„œ ì°¸ì¡° ë° í˜¸ì¶œì´ ì¼ì–´ë‚˜ëŠ” ë³€ìˆ˜ë“¤ ë° ë¶€ë¶„ë“¤ì„ ë‚˜ì—´í•˜ë¼ê³  í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ë‚˜ì—´í•  ìˆ˜ ìˆë‹¤.
>keyPrefsData  
keyDef  
keyPrefsData.GetBoundKeyCode(keyDef, slot)  
Hotkeys.settings  
keyDef.ModifierData()  
item.ToStringReadable()  
list.AddRange
>
ìœ„ ì½”ë“œë¥¼ ë¶„ì„í•´ë³´ë©´ ë¨¼ì € list.AddRangeëŠ” ì œì™¸í•  ìˆ˜ ìˆë‹¤. í•¨ìˆ˜ ë‚´ì—ì„œ ë¹ˆ ë¦¬ìŠ¤íŠ¸ì˜ í˜•íƒœë¡œ ê°ì²´ê°€ ìƒì„±ë˜ì–´ ë³€ìˆ˜ì— í• ë‹¹ë˜ê¸° ë•Œë¬¸ì´ë‹¤. item.ToStringReadable()ë„ ê°™ì€ ì´ìœ ë¡œ ì œì™¸í•  ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” itemì´ foreachë¬¸ì—ì„œ listë¥¼ ìˆœíšŒí•˜ë©´ì„œ ê°€ì ¸ì˜¤ëŠ” ê°’ì´ê¸° ë•Œë¬¸ì´ë‹¤. ë¦¬ìŠ¤íŠ¸ ë‚´ë¶€ì— Nullê°’ì´ ë“¤ì–´ìˆì„ ê°€ëŠ¥ì„±ì„ ì™„ì „íˆ ë°°ì œí•  ìˆ˜ëŠ” ì—†ì§€ë§Œ ê·¸ ìœ„ì— ìˆëŠ” keyDef.ModifierData().keyBindModsA ë•ë¶„ì— Nullê°’ì´ ë“¤ì–´ê°ˆ í™•ë¥ ì€ ë‚®ë‹¤ê³  ì¶”ì¸¡í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” Hotkeysì—ì„œ KeyBindingDefì— ëŒ€í•´ í™•ì¥í•œ ë©”ì†Œë“œ ModifierData ë©”ì†Œë“œê°€ KeyModData ê°ì²´ë¥¼ ë°˜í™˜í•˜ê³ , í•´ë‹¹ ê°ì²´ëŠ” ìƒì„±ìì—ì„œ keyBindModsAë¥¼ ì´ˆê¸°í™”í•˜ê¸° ë•Œë¬¸ì´ë‹¤. Hotkeys.settingsëŠ” ëª¨ë“œê°€ ì´ˆê¸°í™”ë ë•Œ ìƒì„±ëœ ì„¸íŒ… ê°ì²´ì´ê¸° ë•Œë¬¸ì— í•´ë‹¹ ê°ì²´ê°€ ìƒì„±ë˜ì§€ ì•Šì•˜ë‹¤ë©´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê¸° ì „ì— ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ í™•ë¥ ì´ ë†’ë‹¤. ì¶”ë¡ ì„ í†µí•´ì„œ NullReferenceExceptionì´ ë°œìƒ ê°€ëŠ¥í•œ ê²½ìš°ë§Œì„ ë‚¨ê²¨ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
>keyPrefsData  
keyDef  
keyPrefsData.GetBoundKeyCode(keyDef, slot)  
~~Hotkeys.settings~~  
keyDef.ModifierData()  
~~item.ToStringReadable()~~  
~~list.AddRange~~
>
ì¦‰, keyDefê°€ Nullì´ë¼ì„œ ModifierData ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•  ë•Œ NullReferenceExceptionì´ ë°œìƒí–ˆê±°ë‚˜, keyPrefsDataê°€ Nullì´ë¼ì„œ GetBoundKeyCode ë©”ì†Œë“œ í˜¸ì¶œì—ì„œ Nullì´ ë°œìƒí–ˆê±°ë‚˜, ì•„ë‹ˆë©´ GetBOundKeyê°€ ëŒë ¤ì¤€ ê°ì²´ê°€ Nullì´ë¼ì„œ, ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ ModifierDataê°€ ëŒë ¤ì¤€ ê°ì²´ê°€ Nullì´ë¼ì„œ NullReferenceExceptionì´ ë°œìƒí•œ ê²ƒì´ë¼ê³  ì¶”ì¸¡í•  ìˆ˜ ìˆë‹¤.  
## 3. ì—ëŸ¬ ë°œìƒ ì›ì¸ êµ¬ì¡°
### 1. Character Editorì˜ KeyBindingDef êµ¬í˜„ ë°©ì‹  
Character Editorì˜ KeyBindingDef êµ¬í˜„ ë°©ì‹ì´ ë°”ë¡œ ë¬¸ì œì˜ ì›ì¸ì´ ëœë‹¤. Character EditorëŠ” ë…íŠ¹í•œ ì ‘ê·¼ ë°©ë²•ìœ¼ë¡œ KeyBindingDefë¥¼ êµ¬í˜„í–ˆëŠ”ë°, ëŸ°íƒ€ì„ì—ì„œ ë™ì ìœ¼ë¡œ KeyBindingDefë¥¼ ìƒì„±í•˜ì—¬ ì´ë¥¼ DefDatabaseë¼ëŠ”, ì „ì²´ Defë“¤ì„ ê´€ë¦¬í•˜ëŠ” ê²ƒìœ¼ë¡œ ì¶”ì¸¡ë˜ëŠ”ê³³ì— ì§‘ì–´ë„£ëŠ” ë°©ì‹ì´ë‹¤. ë˜í•œ, Character Editorì˜ í‚¤ ë°”ì¸ë”© ì •ë³´ì™€ ModSettingsëŠ” ì¼ë°˜ì ì¸ ëª¨ë“œ ì„¤ì •ì´ ì €ì¥ë˜ëŠ” ê²½ë¡œì¸ C:\Users\<ìœ ì €ëª…>\AppData\LocalLow\Ludeon Studios\RimWorld by Ludeon Studios\Configì— ì €ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤. C:\Users\<ìœ ì €ëª…>\AppData\LocalLow\Ludeon Studios\RimWorld by Ludeon Studios\CharacterEditor ì— ë³„ë„ì˜ .txt íŒŒì¼ë¡œ ì €ì¥ëœë‹¤. í‚¤ë°”ì¸ë”© ì •ë³´ëŠ” options.txtì— ì €ì¥ëœë‹¤.
```Tree
ğŸ“¦CharacterEditor
 â”£ ğŸ“œcapsulesetup0.txt
 â”£ ğŸ“œoptions.txt
 â”— ğŸ“œpawnslots.txt
```  
ê·œê²©ì— ë§ì¶”ì–´ì„œ xmlíŒŒì¼ì„ ë§Œë“¤ í•„ìš”ê°€ ì—†ë‹¤ëŠ” ì ì—ì„œëŠ” íš¨ìœ¨ì ì´ê³ , ì°¸ì‹ í•œ ì ‘ê·¼ë°©ë²•ì´ë¼ê³  í•  ìˆ˜ ìˆìœ¼ë‚˜, ì´ë¡œ ì¸í•´ì„œ íƒ€ ëª¨ë“œë“¤ê³¼ì˜ í˜¸í™˜ì„±ì— ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ë‹¤. ë•Œë¬¸ì— ê°œì¸ì ì¸ ìƒê°ìœ¼ë¡œëŠ” ì¢‹ì€ ë°©ë²•ì´ë¼ê³  ìƒê°ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ë¬¼ë¡  ì´ë ‡ê²Œ í•œ ì´ìœ ê°€ ì¡´ì¬í• í…ë°, ì¶”ì¸¡ìœ¼ë¡œëŠ” Character Editorì˜ ë‹¨ì¶•í‚¤ ì •ë³´ë¥¼ í™˜ê²½ì„¤ì •ì— ë“¤ì–´ê°€ì„œë§Œì´ ì•„ë‹ˆë¼, í•´ë‹¹ ëª¨ë“œì˜ ì„¸íŒ…ì°½ì„ ì—´ì—ˆì„ ë•Œì—ë„ ìˆ˜ì •ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ê¸° ìœ„í•´ì„œ ì´ëŸ° ì ‘ê·¼ë°©ë²•ì„ íƒí•œ ê²ƒ ìœ¼ë¡œ ë³´ì¸ë‹¤.